<!DOCTYPE html>
<html>
<head>
  <title>MAAD 2020</title>
  <style type="text/css">
    body {
      font-family: Arial, sans-serif;
    }
  </style>
  <script>
  function redirect(n, x, y) {
    a=[8.4,13,9.9,10.2,9.4,10.8,10.9,9.7,12.1,11.3,9.8,8.8,11.1,9.5,12.5,8.9,10.2,10.9,9.8,10.3,9.9,10.3,10.8,10.7,10.7,8.9,9.8,12.3,10.2];
    b=[13.3,12,14,12.4,9.9,10.5,11.5,10.8,8.2,9.5,8.7,11,9.8,9.7,9.3,10,10.7,10.3,10,10.9,10.7,10.7,10.2,10.5,9.2,9.2,11.8,9.7,8.7];
    c=[101.3,108,109.4,106.1,107.5,99.9,104.2,100.7,102.9,98.7,98.5,115.6,97.3,99.4,117.9,122.1,104.6,103.1,123.7,97.1,103.6,98.1,104,125.2,100.1,97.3,103.5,122.1,100.6];
    d=[110.2,190,102,105.9,99.3,100.4,96.8,100.4,102.9,100.6,99.5,107.2,102.3,101.2,101.1,139.5,99.8,101.9,101.3,96.4,96.5,101.3,102.8,107.5,99.6,97.1,107.8,100,102.1];
      if (n<1 || n>29){
        alert("invalid clue number");
        return -1;
      } else{
      	var x1 = Math.floor(x);
        var x2 = x - x1;
        var y1 = Math.floor(y);
        var y2 = y - y1;
	var res = Math.floor(a[n-1]*x1+b[n-1]*y1+c[n-1]*x2+d[n-1]*y2);
      	return res - 30*Math.floor(res/30);
      }
    }
    function generate() {
    document.getElementById("output").innerHTML = "";
      var clueNum = document.getElementById("clue").value;
      var Lat = document.getElementById("lat").value;
      var Long = document.getElementById("long").value;
      var newPage = redirect(clueNum, Lat, Long);
      if (newPage==0){
      document.getElementById("output").innerHTML += "Endpoint reached. Submit your final input to the MS Form."
      } else{
      document.getElementById("output").innerHTML += "Your next clue is Clue " + newPage + "</br>";
      }
    }
    </script>
</head>
<body>
  <h2>Music and Art Awareness Day 2020: Museum & Theatre Hunt!</h2>
  <p>  <br/><br/>Input clue number (between 1 and 29), latitude of location (between -180 and 180) and longitude of location (between -180 and 180).</p>
  <input type="text" id="clue"/>
  <input type="text" id="lat"/>
  <input type="text" id="long"/>
  <button onclick="generate()">Redirect</button>
  <br/>
  <br/>
  <div id="output"></div>
</body>
</html>